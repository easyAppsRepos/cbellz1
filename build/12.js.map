{"version":3,"sources":["../../src/pages/mapa/mapa.module.ts","../../src/pages/mapa/mapa.ts"],"names":[],"mappings":"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","file":"12.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { MapaPage } from './mapa';\n\n@NgModule({\n  declarations: [\n    MapaPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(MapaPage),\n  ],\n})\nexport class MapaPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/mapa/mapa.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\nimport { Platform } from 'ionic-angular';\nimport { ModalController } from 'ionic-angular';\nimport { LoadingController } from 'ionic-angular';\nimport { Events } from 'ionic-angular';\nimport { ApiProvider } from '../../providers/api/api';\nimport { Storage } from '@ionic/storage';\nimport { AlertController } from 'ionic-angular';\n/**\n * Generated class for the MapaPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n\n\n@IonicPage()\n@Component({\n  selector: 'page-mapa',\n  templateUrl: 'mapa.html',\n})\nexport class MapaPage {\n\nmap: GoogleMap;\n\n\n\nmyPosition: any = {};\nmarkers: any[] = [\n  {\n    position:{\n      latitude: -17.3666745,\n      longitude: -66.2387878,\n    },\n    title:'Point 1'\n  },\n  {\n    position:{\n      latitude: -17.3706884,\n      longitude: -66.2397749,\n    },\n    title:'Point 2'\n  },\n  {\n    position:{\n      latitude: -17.391398,\n      longitude: -66.2407904,\n    },\n    title:'Point 3'\n  },\n  {\n    position:{\n      latitude: -17.3878887,\n      longitude: -66.223664,\n    },\n    title:'Point 4'\n  },\n];\n\n\n  constructor(public navCtrl: NavController, public navParams: NavParams, public modalCtrl: ModalController, public loadingCtrl: LoadingController,public events: Events, public apiProvider: ApiProvider, public alertCtrl: AlertController,public storage: Storage,public plt: Platform) {\n\n  /*\n  if(this.map){\n  console.log('setVisible false');\n  this.map.setVisible(false);\n  }\n  */\n this.loading = this.loadingCtrl.create({content : \"Buscando negocios cercanos\"});\n  }\n\n  ionViewDidEnter() {\n      this.loading.present();\n     this.getServiciosGPS();\n\n\n\n  // create a new map by passing HTMLElement\n\n//verificar si sirve en ionviewdidenter\n//verificar reduciendo widj\n//verificar con push y setRoot\n//cambiar fondo oclor\n\n\n \n\n  //this.gpsServices();\n\n    console.log('ionViewDidLoad MapaPage');\n\n\n  }\n\n\n\n\nconst addMarker = (options) => {\n  let markerOptions: MarkerOptions = {\n    position: new LatLng(options.position.latitude, options.position.longitude),\n    title: options.title\n  };\n  this.map.addMarker(markerOptions);\n}\n\n\nregresawe(){\n   this.navCtrl.setRoot('InicioPage');\n}\n\n  const loadMap = () => {\n\n//let loading3 = this.loadingCtrl.create({content : \"Buscando negocios cercanos\"});\n        //loading3.present();\n\n\n    let element: HTMLElement = document.getElementById('map');\n\n  this.map = plugin.google.maps.Map.getMap(element,\n  {\n  'camera' : {\n    target: {lat: this.myPosition.latitude, lng:  this.myPosition.longitude},\n    zoom: 16\n  },\n  'preferences': {\n    'zoom': {\n      'minZoom': 13,\n      'maxZoom': 17\n    }\n    }\n    });\n    \n\n      // create CameraPosition\n      let position: CameraPosition = {\n       target: {lat: this.myPosition.latitude, lng:  this.myPosition.longitude},\n      zoom: 16,\n      tilt: 30\n      };\n\n      this.map.one(plugin.google.maps.event.MAP_READY, ()=>{\n      //this.map.setVisible(false);\n\n\n      this.loading.dismissAll();\n\n\n      \n      console.log('Map is ready!');\n      // move the map's camera to position\n      //this.map.moveCamera(position);\n      //loading3.dismissAll();\n      /*\n      setTimeout(() => {\n    \n    \n      this.map.setVisible(true);\n      },1000);\n      */\n      \n\n\n\n      /*\n      this.map.addMarker({\n      position: {lng: -84.212576, lat: 10.0028923},\n      title: \"Marcador ejemplo\"\n      });\n      */\n      });\n    }\n        presentAlert() {\n          let alert = this.alertCtrl.create({\n            title: 'GPS desactivado',\n            subTitle: 'Activa el GPS para filtrar por distancia',\n            buttons: ['Cerrar']\n          });\n          alert.present();\n        }\n\n        getServiciosGPS(){\n\n        //let loading = this.loadingCtrl.create({content : \"Obteniendo ubicacion\"});\n        //loading.present();\n\n      //loading.present();\n\n        navigator.geolocation.getCurrentPosition((pos) => {\n\n  \t\t\tthis.myPosition = {\n  \t\t\tlatitude: pos.coords.latitude,\n  \t\t\tlongitude: pos.coords.longitude\n  \t\t\t};\n        var fechaExpiracion = new Date();\n        fechaExpiracion.setHours(fechaExpiracion.getHours() + 1);        \n        this.storage.set('coorLBY', {'lat':pos.coords.latitude,\n                                  'lng':pos.coords.longitude,\n                                    'expirationDate': fechaExpiracion});\n\n    // setTimeout(() => {\n    \n\n\n        //loading.dismissAll();\n        this.loadMap();\n\n   //   },2000);\n\n     //   loading.dismissAll();\n      //  this.loadMap();\n\n        }, (error)=>{\n          console.log('storageme err');\n          console.log(error);\n\n\n      //setTimeout(() => {\n          this.loading.dismissAll();\n          this.requestLocationAccuracy();\n     // },2000);\n\n\n\n         // loading.dismissAll();\n\n         // this.requestLocationAccuracy();\n        },{ enableHighAccuracy: true, timeout: 30000 });\n\n    \n      }\n\n\n    gpsServices() {\n\n\n  }\n\n\n\n\nonError(error) {\n    console.error(\"The following error occurred: \" + error);\n}\n\n\n requestLocationAuthorization() {\n    cordova.plugins.diagnostic.requestLocationAuthorization((status) => {\n    switch (status) {\n        case cordova.plugins.diagnostic.permissionStatus.GRANTED:\n            if(this.plt.is('ios')){\n                this.onError(\"Location services is already switched ON\");\n            }else{\n                this._makeRequest();\n            }\n            break;\n        case cordova.plugins.diagnostic.permissionStatus.NOT_REQUESTED:\n            this.requestLocationAuthorization();\n            break;\n        case cordova.plugins.diagnostic.permissionStatus.DENIED:\n            if(this.plt.is('android')){\n                this.onError(\"User denied permission to use location\");\n            }else{\n                this._makeRequest();\n            }\n            break;\n        case cordova.plugins.diagnostic.permissionStatus.DENIED_ALWAYS:\n            // Android only\n            this.onError(\"User denied permission to use location\");\n            break;\n        case cordova.plugins.diagnostic.permissionStatus.GRANTED_WHEN_IN_USE:\n            // iOS only\n            this.onError(\"Location services is already switched ON\");\n            break;\n    }\n}, this.onError());\n}\n\n\n requestLocationAccuracy() {\n    cordova.plugins.diagnostic.getLocationAuthorizationStatus((status) => {\n    switch (status) {\n        case cordova.plugins.diagnostic.permissionStatus.GRANTED:\n            if(this.plt.is('ios')){\n                this.onError(\"Location services is already switched ON\");\n            }else{\n                this._makeRequest();\n            }\n            break;\n        case cordova.plugins.diagnostic.permissionStatus.NOT_REQUESTED:\n            this.requestLocationAuthorization();\n            break;\n        case cordova.plugins.diagnostic.permissionStatus.DENIED:\n            if(this.plt.is('android')){\n                this.onError(\"User denied permission to use location\");\n            }else{\n                this._makeRequest();\n            }\n            break;\n        case cordova.plugins.diagnostic.permissionStatus.DENIED_ALWAYS:\n            // Android only\n            this.onError(\"User denied permission to use location\");\n            break;\n        case cordova.plugins.diagnostic.permissionStatus.GRANTED_WHEN_IN_USE:\n            // iOS only\n            this.onError(\"Location services is already switched ON\");\n            break;\n    }\n}, this.onError());\n}\n\n _makeRequest(){\n    cordova.plugins.locationAccuracy.canRequest((canRequest) => {\n        if (canRequest) {\n            cordova.plugins.locationAccuracy.request(()=>{\n\n                    console.log(\"Location accuracy request successful\");\n                    this.getServiciosGPS();\n\n                }, (error) => {\n                    this.onError(\"Error requesting location accuracy: \" + JSON.stringify(error));\n                    if (error) {\n                        // Android only\n                        this.onError(\"error code=\" + error.code + \"; error message=\" + error.message);\n                        if (this.plt.is('android') && error.code !== cordova.plugins.locationAccuracy.ERROR_USER_DISAGREED) {\n                            if (window.confirm(\"Failed to automatically set Location Mode to 'High Accuracy'. Would you like to switch to the Location Settings page and do this manually?\")) {\n                                cordova.plugins.diagnostic.switchToLocationSettings();\n                            }\n                        }\n                    }\n                }, cordova.plugins.locationAccuracy.REQUEST_PRIORITY_HIGH_ACCURACY // iOS will ignore this\n            );\n        } else {\n            // On iOS, this will occur if Location Services is currently on OR a request is currently in progress.\n            // On Android, this will occur if the app doesn't have authorization to use location.\n            this.onError(\"Cannot request location accurac // android\");\n        }\n    });\n}\n\n\n\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/mapa/mapa.ts"],"sourceRoot":""}